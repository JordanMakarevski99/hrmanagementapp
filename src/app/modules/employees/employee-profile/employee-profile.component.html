<div class="container my-5">
    <button mat-icon-button class="mb-3" (click)="goBack()">
        <mat-icon>arrow_back</mat-icon>
      </button>
    <div class="card shadow-sm">
      <div class="card-header bg-primary text-white text-center py-4">
        <h2 class="mb-0">{{ employee?.firstName }} {{ employee?.lastName }}'s Profile</h2>
      </div>
      <div class="card-body p-4">
        <div class="row mb-4">
          <div class="col-md-4 text-center">
                    <img src="data:image/jpeg;base64,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"/>

          </div>
          <div class="col-md-8">
            <h4 class="text-primary">Profile Information</h4>
            <p><strong>ID:</strong> {{ employee?.id }}</p>
            <p><strong>Email:</strong> {{ employee?.email }}</p>
            <p><strong>Hire Date:</strong> {{ employee?.hireDate | date: 'longDate' }}</p>
          </div>
        </div>
  
        <hr>
  
        <div class="row mb-4">
            <div class="col-md-6">
                <h4 class="text-primary">Assigned Projects</h4>
                <mat-list dense class="mt-3">
                  <mat-list-item *ngFor="let project of projects" class="project-list-item">
                    <div class="d-flex flex-column">
                      <h5 mat-line>{{ project.name }}</h5>
                      <p mat-line class="mb-0">Status: <span class="badge bg-info">{{ project.status }}</span></p>
                    </div>
                  </mat-list-item>
                </mat-list>
              </div>
              
          <div class="col-md-6">
            <h4 class="text-primary">Department</h4>
            <ng-container *ngIf="managedDepartment; else noDepartment">
              <p class="lead">{{ managedDepartment }}</p>
            </ng-container>
            <ng-template #noDepartment>
              <p class="lead text-muted">No department assigned</p>
            </ng-template>
          </div>
        </div>
  
        <hr>
  
        <div class="row">
          <div class="col-md-12">
            <h4 class="text-primary">Leave Requests</h4>
            <table class="table table-hover table-striped">
              <thead class="thead-light">
                <tr>
                  <th>Leave Type</th>
                  <th>Status</th>
                  <th>Start Date</th>
                  <th>End Date</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let request of leaveRequests">
                  <td>{{ request.leaveType }}</td>
                  <td>
                    <span [ngClass]="{
                      'badge bg-success': request.status === 'APPROVED',
                      'badge bg-danger': request.status === 'REJECTED',
                      'badge bg-warning': request.status === 'PENDING'
                    }">
                      {{ request.status }}
                    </span>
                  </td>
                  <td>{{ request.startDate | date: 'mediumDate' }}</td>
                  <td>{{ request.endDate | date: 'mediumDate' }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  